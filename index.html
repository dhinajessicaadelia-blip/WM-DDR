<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Kasir Pink Store</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #ffe6f0;
  padding: 20px;
}
h1 {
  text-align: center;
  color: #d63384;
}
.container {
  max-width: 900px;
  margin: auto;
  background: white;
  padding: 20px;
  border-radius: 10px;
}
table {
  width: 100%;
  border-collapse: collapse;
}
th, td {
  border-bottom: 1px solid #ddd;
  padding: 8px;
}
th {
  background: #f8b4d9;
}
button {
  background: #d63384;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 5px;
  cursor: pointer;
}
input {
  padding: 5px;
  width: 100%;
}
.total {
  font-size: 18px;
  font-weight: bold;
  text-align: right;
}
</style>
</head>

<body>
<h1>ü©∑ Kasir Pink Store</h1>

<div class="container">
  <h3>Menu</h3>
  <table>
    <tr>
      <th>Nama</th>
      <th>Harga</th>
      <th>Qty</th>
      <th>Aksi</th>
    </tr>
    <tr>
      <td>Es Teh</td>
      <td>5000</td>
      <td><input type="number" id="q1" value="1"></td>
      <td><button onclick="tambah('Es Teh',5000,q1.value)">Tambah</button></td>
    </tr>
    <tr>
      <td>Mie Goreng</td>
      <td>12000</td>
      <td><input type="number" id="q2" value="1"></td>
      <td><button onclick="tambah('Mie Goreng',12000,q2.value)">Tambah</button></td>
    </tr>
    <tr>
      <td>Nasi Goreng</td>
      <td>15000</td>
      <td><input type="number" id="q3" value="1"></td>
      <td><button onclick="tambah('Nasi Goreng',15000,q3.value)">Tambah</button></td>
    </tr>
  </table>

  <h3>Keranjang</h3>
  <div id="keranjang"></div>

  <p class="total">Total: Rp <span id="total">0</span></p>

  <label>Uang Dibayar</label>
  <input type="number" id="bayar" oninput="hitungKembali()">

  <p class="total">Kembalian: Rp <span id="kembali">0</span></p>

  <button onclick="printStruk()">üñ®Ô∏è Print Struk</button>
</div>

<div id="struk" style="display:none"></div>

<script>
let total = 0;
let strukText = "";

function tambah(nama, harga, qty) {
  let sub = harga * qty;
  total += sub;

  document.getElementById("keranjang").innerHTML +=
    `<p>${nama} ${qty} x ${harga} = Rp ${sub}</p>`;

  strukText += `${nama} ${qty} x ${harga} = ${sub}<br>`;
  document.getElementById("total").innerText = total;
}

function hitungKembali() {
  let bayar = document.getElementById("bayar").value;
  document.getElementById("kembali").innerText = bayar - total;
}

function printStruk() {
  let bayar = document.getElementById("bayar").value;
  let kembali = bayar - total;

  let win = window.open("", "", "width=300,height=600");
  win.document.write(`
    <html>
    <head>
      <title>Struk</title>
      <style>
        body { font-family: monospace; font-size: 12px; }
        h2 { text-align: center; }
      </style>
    </head>
    <body>
      <h2>Pink Store</h2>
      ${strukText}
      <hr>
      Total : ${total}<br>
      Bayar : ${bayar}<br>
      Kembali : ${kembali}<br>
      <p>Terima Kasih</p>
      <script>
        window.print();
        window.onafterprint = window.close;
      <\/script>
    </body>
    </html>
  `);
  win.document.close();
}
</script>
</body>
</html>